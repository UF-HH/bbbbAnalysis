# the definition of composed selections. Can contain as well TCut style selections, e.g.:
# resolved = baseline, btagMM, massCut
# resolvedHighPt = baseline, btagMM, massCut, dau1_pt > 150
# use comma separated lists


#########################################################################
#########################################################################

[selections]

# common
# basicSelectionPass             = HighestIsoMuonPt>30 && ForthJetPt>30 && ForthJetCMVA>0.185
basicSelectionPass             = HighestIsoMuonPt>30 && ForthJetPt>30
# basicSelectionPass             = HighestIsoMuonPt>30 && ForthJetPt>30 && ((H1_m > 120-40 && H1_m < 120+40) && (H2_m > 120-40 && H2_m < 120+40)) && HH_2DdeltaM < 4.*20.*20.
# # # basicSelectionPass              = ForthJetCMVA > 0.185 && ((H1_m > 120-40 && H1_m < 120+40) && (H2_m > 120-40 && H2_m < 120+40)) && HH_2DdeltaM < 25.*20*20
# # # basicSelectionPass              = ((H1_m > 120-40 && H1_m < 120+40) && (H2_m > 120-40 && H2_m < 120+40)) && HH_2DdeltaM < 25.*20*20
BTagCaloCSVp087TriplePass       = BTagCaloCSVp087Triple                          >= 3
# SelectionForBTag = HighestIsoElectronPt > 20. && MuonElectronChargeMultiplication <= 0 && SecondPtOrderedJetDeepCSV >= 0.6 
SelectionForBTag = HighestIsoElectronPt > 20. && MuonElectronChargeMultiplication <= 0
SingleBTag       = FirstPtOrderedJetOnlineBtag >=1

# HLT_DoubleJet90_Double30_TripleBTagCSV_p087
# L1triggerDouble90Double30Pass   = L1sTripleJetVBFIorHTTIorDoubleJetCIorSingleJet >= 1
L1triggerDouble90Double30Pass   = QuadCentralJet30 >= 1
QuadCentralJet30Pass            = QuadCentralJet30                               >= 4
DoubleCentralJet90Pass          = DoubleCentralJet90                             >= 2
QuadPFCentralJetLooseID30Pass   = QuadPFCentralJetLooseID30                      >= 4
DoublePFCentralJetLooseID90Pass = DoublePFCentralJetLooseID90                    >= 2

#not per-object efficiency HLT_DoubleJet90_Double30_TripleBTagCSV_p087
HLT_Double90Double30Pass        =  HLT_DoubleJet90_Double30_TripleBTagCSV_p087_Fired && HLT_DoubleJet90_Double30_TripleBTagCSV_p087_ObjectMatched

# HLT_QuadJet45_TripleBTagCSV_p087
# L1triggerQuad45Pass             = L1sQuadJetC50IorQuadJetC60IorHTT280IorHTT300IorHTT320IorTripleJet846848VBFIorTripleJet887256VBFIorTripleJet927664VBF >= 1
L1triggerQuad45Pass             = QuadCentralJet45 >= 1
QuadCentralJet45Pass            = QuadCentralJet45                               >= 4
QuadPFCentralJetLooseID45Pass   = QuadPFCentralJetLooseID45                      >= 4


#not per-object efficiency HLT_QuadJet45_TripleBTagCSV_p087
HLT_Quad45Pass                  =  HLT_QuadJet45_TripleBTagCSV_p087_Fired && HLT_QuadJet45_TripleBTagCSV_p087_ObjectMatched


# common
Normalization                                    = basicSelectionPass

# HLT_DoubleJet90_Double30_TripleBTagCSV_p087
L1triggerDouble90Double30AndPrevious             = Normalization, L1triggerDouble90Double30Pass                  
QuadCentralJet30AndPrevious                      = L1triggerDouble90Double30AndPrevious, QuadCentralJet30Pass           
DoubleCentralJet90AndPrevious                    = QuadCentralJet30AndPrevious, DoubleCentralJet90Pass         
BTagCaloCSVp087TripleDouble90Double30AndPrevious = DoubleCentralJet90AndPrevious, BTagCaloCSVp087TriplePass    
QuadPFCentralJetLooseID30AndPrevious             = BTagCaloCSVp087TripleDouble90Double30AndPrevious, QuadPFCentralJetLooseID30Pass  
DoublePFCentralJetLooseID90AndPrevious           = QuadPFCentralJetLooseID30AndPrevious, DoublePFCentralJetLooseID90Pass
NormalizationForBTagDouble90Double30             = DoubleCentralJet90AndPrevious, SelectionForBTag
SelectionForBTagDouble90Double30                 = NormalizationForBTagDouble90Double30, FirstPtOrderedJetOnlineBtag

# not per-object efficiency HLT_DoubleJet90_Double30_TripleBTagCSV_p087
HLT_Double90Double30AndPrevious                  =  Normalization, HLT_Double90Double30Pass

# HLT_QuadJet45_TripleBTagCSV_p087
L1triggerQuad45AndPrevious             = Normalization, L1triggerQuad45Pass                  
QuadCentralJet45AndPrevious            = L1triggerQuad45AndPrevious, QuadCentralJet45Pass           
BTagCaloCSVp087TripleQuad45AndPrevious = QuadCentralJet45AndPrevious, BTagCaloCSVp087TriplePass      
QuadPFCentralJetLooseID45AndPrevious   = BTagCaloCSVp087TripleQuad45AndPrevious, QuadPFCentralJetLooseID45Pass  
NormalizationForBTagQuad45             = QuadCentralJet45AndPrevious, SelectionForBTag
SelectionForBTagQuad45                 = NormalizationForBTagQuad45, FirstPtOrderedJetOnlineBtag

# not per-object efficiency HLT_QuadJet45_TripleBTagCSV_p087
HLT_Quad45AndPrevious                  =  Normalization, HLT_Quad45Pass

# Region
HLT_IsoMu24         = HLT_IsoMu24_Fired
HLT_IsoMu20         = HLT_IsoMu20_Fired
HLT_IsoMu24_Matched = HLT_IsoMu24_Fired && HLT_IsoMu24_ObjectMatched
HLT_IsoMu20_Matched = HLT_IsoMu20_Fired && HLT_IsoMu20_ObjectMatched

HLT_IsoMu24_PreselectedJetsLessThan6    = HLT_IsoMu24_Fired && NumberOfJetsPassingPreselection <6
HLT_IsoMu24_PreselectedJetsBetween7And9 = HLT_IsoMu24_Fired && NumberOfJetsPassingPreselection >=7 && NumberOfJetsPassingPreselection <=9
HLT_IsoMu24_PreselectedJetsMoreThan9    = HLT_IsoMu24_Fired && NumberOfJetsPassingPreselection > 9

#########################################################################
#########################################################################

[selectionWeights]

#########################################################################
#########################################################################

[sampleWeights]
TTbar                   = genWeight, PUWeight, LHEPdfWeight, LHEScaleWeight


#########################################################################
#########################################################################

# define alternative weights to be tested instead of the nominal one
[systematics]

#########################################################################
#########################################################################

# write binning as ROOT declaration: nXbins, xmin, xmax
[histos]
FourHighetJetPtSum       = 50, 100., 600.
FirstJetPt               = 50,  20., 160.
SecondJetPt              = 50,  20., 200.
ThirdJetPt               = 50,  20., 160.
ForthJetPt               = 50,  20., 160.
ThirdJetDeepCSV          = 50,   0.,   1.
FirstPtOrderedJetDeepCSV = 50,   0.,   1.

# write binning as ROOT declaration: nXbins
xmin, xmax, nYbins, ymin, ymax      =
[histos2D]
OfflineJetPtForCaloResolution:ResolutionOnlineCaloJetPt = 100, 30., 500., 100, -300., +300.
OfflineJetPtForPFResolution:ResolutionOnlinePFJetPt     = 100, 30., 500., 100, -300., +300. 


# user defined binning: if defined, overrides any definition in [histos]
[binning]
FourHighetJetPtSum = 100, 120, 140, 160, 170, 180, 190, 200, 210, 220, 230, 240, 250, 260, 270, 280, 290, 300, 310, 320, 330, 340, 350, 360, 370, 380, 390, 400, 410, 420, 430, 440, 450, 460, 470, 480, 490, 500, 520, 540, 560, 580, 600
SecondJetPt        = 20, 34.4, 48.8, 59.6, 66.8, 74, 81.2, 84.8, 88.4, 92, 95.6, 99.2, 102.8, 106.4, 110, 113.6, 117.2, 120.8, 124.4, 128, 131.6, 135.2, 138.8, 146, 153.2, 160.4, 167.6, 178.4, 189.2, 200


ForthJetPt         = 20, 25.6, 31.2, 36.8, 39.6, 42.4, 45.2, 48, 50.8, 53.6, 56.4, 59.2, 62, 64.8, 67.6, 70.4, 73.2, 76, 78.8, 84.4, 90, 95.6, 104, 112.4, 120.8, 129.2, 137.6, 148.8, 160

ThirdJetDeepCSV    = 0, 0.02, 0.04, 0.06, 0.08, 0.1, 0.12, 0.14, 0.16, 0.18, 0.2, 0.22, 0.24, 0.26, 0.28, 0.3, 0.32, 0.36, 0.4, 0.44, 0.48, 0.52, 0.56, 0.6, 0.64, 0.7, 0.76, 0.82, 0.88, 0.94, 1

FirstPtOrderedJetDeepCSV    = 0, 0.02, 0.04, 0.06, 0.08, 0.1, 0.12, 0.14, 0.16, 0.18, 0.2, 0.22, 0.24, 0.26, 0.28, 0.3, 0.32, 0.36, 0.4, 0.44, 0.48, 0.52, 0.56, 0.6, 0.64, 0.7, 0.76, 0.82, 0.88, 0.94, 1


