# ############################################################################################################## #

[parameters]

is2016Sample = false

# The strategy to select the two pairs forming H1 and H2
# OneClosestToMh           : take the pair closest to mH, then the other one
# BothClosestToMh          : pairs that minimize the distance from mH in a 2D plane for the first four higest deepCSV jets
# MostBackToBack           : the pairs that are more back-to-back
# HighestCSVandClosestToMh : pairs that minimize the distance from mH in a 2D plane for for all the jets 
#                           with deepCSV higher than deepCSVcut. Higgs mass can be specified for two ranges: 
#                           HiggsMassLMR for M_X<LMRToMMRTransition and HiggsMassMMR for M_X>LMRToMMRTransition
#                           if LMRToMMRTransition<0 only one range is used with HiggsMass = HiggsMassLMR

#bbbbChoice              = BothClosestToMh
#HiggsMass               = 110.
bbbbChoice               = BothClosestToDiagonal
LeadingHiggsMass         = 120
SubleadingHiggsMass      = 110

# -------------------------------------------------------------------------------------------------------------- #
# use PreselectionCut to cut on the objects during preselection
# use negative numbers to skip the cut
# current options:
# 
PreselectionCut            = VBFJetCut
bMinDeepCSV                = 0.6321
bMinPt                     = 30.
bMaxAbsEta                 = 2.4
jMinPt                     = 25.
jMaxAbsEta                 = 5.
FourthAntiBTagInformation  = True


# -------------------------------------------------------------------------------------------------------------- #
# use JetEnergyResolution to apply Jet energy smearing to MC samples to match data
# current options:
#                   StandardJER: computation as indicated at https://twiki.cern.ch/twiki/bin/view/CMS/JetResolution#Smearing_procedures
#                   None (do nothing)

JetEnergyResolution      = None

# -------------------------------------------------------------------------------------------------------------- #
# use JetEnergyCorrection to apply Jet energy for studing systemati effects
# current options:
#                   StandardJER: computation as indicated at https://twiki.cern.ch/twiki/bin/view/CMS/JECUncertaintySources
#                   None (do nothing)

JetEnergyCorrection      = None

# -------------------------------------------------------------------------------------------------------------- #
# use ObjectsForCut to select objets to be saved in the output tree for subsequent cuts
# current options are:
# None                    : no further object saved
# WandZleptonDecays       : save Isolated electrons and muons from W and Z decays

ObjectsForCut              = TriggerObjects
ListOfTriggerObjectsAndBit = 1:0:BTagCaloCSVp087Triple, 1:1:DoubleCentralJet90, 1:2:DoublePFCentralJetLooseID90, 1:3:L1sTripleJetVBFIorHTTIorDoubleJetCIorSingleJet, 1:4:QuadCentralJet30, 1:5:QuadPFCentralJetLooseID30, 1:6:L1sQuadJetC50IorQuadJetC60IorHTT280IorHTT300IorHTT320IorTripleJet846848VBFIorTripleJet887256VBFIorTripleJet927664VBF, 1:7:QuadCentralJet45, 1:8:QuadPFCentralJetLooseID45

# -------------------------------------------------------------------------------------------------------------- #
# use BTagScaleFactorMethod to select how to evaluate the b tag scale factors
# current options are:
# None                    : no scale factors are saved
# FourBtag_ScaleFactor    : calculate scale factor for four b jet selection

BTagScaleFactorMethod    = FourBtag_ScaleFactor
BJetScaleFactorsFile     = weights/DeepJet_2016LegacySF_V1.csv
# DeepCSV: DeepCSV_2016LegacySF_V1.csv
# DeepJet: DeepJet_2016LegacySF_V1.csv

# -------------------------------------------------------------------------------------------------------------- #
# use WeightsMethod to select the method to calculate the weights
# current options are:
# None                    : no further object saved
# StandardWeight          : calculate standard weights

WeightMethod              = StandardWeight 
#WeightMethod              = None

# ############################################################################################################## #

# [btagDeepB]

# # definition of the deepB WP, NB that they depend on the year
# WPloose  = 0.2217
# WPmedium = 0.6321
# WPtight  = 0.8953

[btag]

# definition of the WP, NB that they depend on the year and on the tagger chosen (must be in synch with the SFs)

# DeepCSV
# WPloose  = 0.2217
# WPmedium = 0.6321
# WPtight  = 0.8953

# DeepJet
WPloose  = 0.0614
WPmedium = 0.3093
WPtight  = 0.7221

# ############################################################################################################## #

[triggers]
makeORof = HLT_IsoMu24

# ############################################################################################################## #

[data]
lumimask = data/Cert_271036-284044_13TeV_23Sep2016ReReco_Collisions16_JSON.txt

[hhreweight]
coeff_file = weights/coefficientsByBin_extended_3M_costHHSim_19-4.txt