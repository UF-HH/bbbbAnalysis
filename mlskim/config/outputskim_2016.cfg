[configuration]

#####################################General information

eosdirectory='/eos/uscms/store/user/guerrero/bbbb_ntuples'

directory='2016'

lumi = 35922

tag='2016NonResonantAnalysis'

seed=2019

####################################Outputskims
sigsamples = ['GluGluToHHTo4B_node_cHHH0_TuneCUETP8M1_PSWeights_13TeV-powheg-pythia8','GluGluToHHTo4B_node_cHHH1_TuneCUETP8M1_PSWeights_13TeV-powheg-pythia8','GluGluToHHTo4B_node_cHHH2p45_TuneCUETP8M1_PSWeights_13TeV-powheg-pythia8','GluGluToHHTo4B_node_cHHH5_TuneCUETP8M1_PSWeights_13TeV-powheg-pythia8','VBF_HH_CV_0_5_C2V_1_C3_1_dipoleRecoilOff-TuneCUETP8M1_PSweights_13TeV-madgraph-pythia8','VBF_HH_CV_1_5_C2V_1_C3_1_dipoleRecoilOff-TuneCUETP8M1_PSweights_13TeV-madgraph-pythia8','VBF_HH_CV_1_C2V_0_C3_1_dipoleRecoilOff-TuneCUETP8M1_PSweights_13TeV-madgraph-pythia8','VBF_HH_CV_1_C2V_1_C3_0_dipoleRecoilOff-TuneCUETP8M1_PSweights_13TeV-madgraph-pythia8','VBF_HH_CV_1_C2V_1_C3_1_dipoleRecoilOff-TuneCUETP8M1_PSweights_13TeV-madgraph-pythia8','VBF_HH_CV_1_C2V_1_C3_2_dipoleRecoilOff-TuneCUETP8M1_PSweights_13TeV-madgraph-pythia8','VBF_HH_CV_1_C2V_2_C3_1_dipoleRecoilOff-TuneCUETP8M1_PSweights_13TeV-madgraph-pythia8']

othersigsamples = ['GGHH4B_rew_kl_p_1']

bkgsamples = ['ZZTo4bQ01j_5f_TuneCP5_amcatNLO_FXFX_pythia8','QCD_HT200to300_TuneCUETP8M1_13TeV-madgraphMLM-pythia8','QCD_HT300to500_TuneCUETP8M1_13TeV-madgraphMLM-pythia8','QCD_HT500to700_TuneCUETP8M1_13TeV-madgraphMLM-pythia8','QCD_HT700to1000_TuneCUETP8M1_13TeV-madgraphMLM-pythia8','QCD_HT1000to1500_TuneCUETP8M1_13TeV-madgraphMLM-pythia8','QCD_HT1500to2000_TuneCUETP8M1_13TeV-madgraphMLM-pythia8','QCD_HT2000toInf_TuneCUETP8M1_13TeV-madgraphMLM-pythia8','TT_TuneCUETP8M2T4_13TeV-powheg-pythia8','ttHTobb_M125_13TeV_powheg_pythia8','VBFHToBB_M-125_13TeV_powheg_pythia8_weightfix','WminusH_HToBB_WToQQ_M125_13TeV_powheg_pythia8','WplusH_HToBB_WToQQ_M125_13TeV_powheg_pythia8','ZH_HToBB_ZToQQ_M125_13TeV_powheg_pythia8','GluGluHToBB_M125_13TeV_powheg_pythia8']

datsamples = ['Data']

variables = ['H1_b1_ptRegressed','H1_b2_ptRegressed','H2_b1_ptRegressed','H2_b2_ptRegressed','H1_b1_pt','H1_b2_pt','H2_b1_pt','H2_b2_pt','H1_b1_eta','H1_b2_eta','H2_b1_eta','H2_b2_eta','H1_b1_phi','H1_b2_phi','H2_b1_phi','H2_b2_phi','HH_btag_b1_bscore','HH_btag_b2_bscore','HH_btag_b3_bscore','HH_btag_b1_bres','HH_btag_b2_bres','HH_btag_b3_bres','JJ_j1_pt','JJ_j2_pt','JJ_j1_eta','JJ_j2_eta','JJ_j1_phi','JJ_j2_phi','H1_pt','H2_pt','H1_m','H2_m','H1_eta','H2_eta','H1_bb_deltaR','H2_bb_deltaR','HH_m','HH_eta','HH_pt','JJ_m','JJ_eta','JJ_pt','h1h2_deltaR','h1j1_deltaR','h1j2_deltaR','h2j1_deltaR','h2j2_deltaR','j1j2_deltaR','h1h2_deltaEta','j1j2_deltaEta','h1h2_deltaPhi','j1j2_deltaPhi','abs_costh_H1_ggfcm','abs_costh_JJ_j1_vbfcm','abs_costh_JJ_j2_vbfcm','abs_costh_H1_vbfcm','abs_costh_H2_vbfcm','abs_costh_H1_b1_h1cm','abs_costh_H2_b1_h2cm','abs_costh_JJ_j1_jjcm','sum_4b_pt','sum_3b_bscore','EventCount','nBtag','VBFEvent','IsolatedElectron_Multiplicity','IsolatedMuon_Multiplicity','nJet','HT_PT30','HT_PT40','HLT_DoubleJet90_Double30_TripleBTagCSV_p087_ObjectMatched','HLT_QuadJet45_TripleBTagCSV_p087_ObjectMatched','HLT_DoubleJet90_Double30_TripleBTagCSV_p087_Fired','HLT_QuadJet45_TripleBTagCSV_p087_Fired','sum_3b_bres','min_4b_deltaR','max_4b_deltaR','min_4b_cm_deltaR','max_4b_cm_deltaR','min_4b_deltaEta','max_4b_deltaEta','min_4b_cm_deltaEta','max_4b_cm_deltaEta','min_4b_deltaPhi','max_4b_deltaPhi','min_4b_cm_deltaPhi','max_4b_cm_deltaPhi','nBtagTightonMediumWP','H1unregressed_m','H2unregressed_m']

weights = ['XS','genWeight','PUWeight','PUWeight_up','PUWeight_down','HH_reweight','triggerScaleFactor','triggerScaleFactorUp','triggerScaleFactorDown','bTagScaleFactor_bJets_up','bTagScaleFactor_central','bTagScaleFactor_tight_central','bTagScaleFactor_bJets_down','bTagScaleFactor_cJets_up','bTagScaleFactor_cJets_down','bTagScaleFactor_lightJets_up','bTagScaleFactor_lightJets_down','L1PreFiringWeight_Nom','L1PreFiringWeight_Up','L1PreFiringWeight_Dn']

dedicatedweights = ['LHEScaleWeight','PSWeight','LHEPdfWeight']

sigsystematics   = ['Absolute','Absolute_2016','BBEC1','BBEC1_2016','EC2','EC2_2016','FlavorQCD','HF','HF_2016','RelativeBal','RelativeSample_2016','bjer','jer']

GGFKillerfile     ='mvatraining/mymodels/2016ggfkiller_bdt_xgboost.pkl'
GGFMVA1file1      ='mvatraining/mymodels/2016ggfmva1_c1_bdt_xgboost.pkl'
GGFMVA2file1      ='mvatraining/mymodels/2016ggfmva2_c1_bdt_xgboost.pkl'
GGFMVA1file2      ='mvatraining/mymodels/2016ggfmva1_c2_bdt_xgboost.pkl'
GGFMVA2file2      ='mvatraining/mymodels/2016ggfmva2_c2_bdt_xgboost.pkl'
GGFMVA1file1btag  ='mvatrainingbtag/mymodels/2016ggfmva1_c1_bdt_xgboost.pkl'
GGFMVA2file1btag  ='mvatrainingbtag/mymodels/2016ggfmva2_c1_bdt_xgboost.pkl'
GGFMVA1file2btag  ='mvatrainingbtag/mymodels/2016ggfmva1_c2_bdt_xgboost.pkl'
GGFMVA2file2btag  ='mvatrainingbtag/mymodels/2016ggfmva2_c2_bdt_xgboost.pkl'

######################################Background modelings

#BDT-reweighter parameters for analysis
#ggf1anabkgparams=[30, 0.1, 4, 300, 0.6, 2020] 
#ggf2anabkgparams=[50, 0.1, 4, 300, 0.6, 2020]
#vbfanabkgparams =[50, 0.1, 2, 300, 0.6, 2020] 

ggf1anabkgparams=[50, 0.5, 2, 5, 0.6, 2020]
ggf2anabkgparams=[50, 0.5, 2, 20, 0.6, 2020]
vbfanabkgparams =[125, 0.1, 3, 20, 0.6, 2020] 

#BDT-reweighter parameters for validation

#ggf1valbkgparams=[80, 0.1, 3, 300, 0.6, 2020] 
#ggf2valbkgparams=[110, 0.1, 2, 300, 0.6, 2020]
#vbfvalbkgparams =[170, 0.1, 4, 300, 0.6, 2020]

ggf1valbkgparams=[150, 0.1, 4, 10, 0.6, 2020] 
ggf2valbkgparams=[75, 0.5, 2, 5, 0.6, 2020]
vbfvalbkgparams =[50, 0.05, 3, 5, 0.6, 2020]      

ttbarsamples = ['TT_TuneCUETP8M2T4_13TeV-powheg-pythia8']

###############################################MVAs Training

#Preparing training samples

mvabkgsamples = ['BKG_MODEL']
mvasigsamples=['GluGluToHHTo4B_node_cHHH0_TuneCUETP8M1_PSWeights_13TeV-powheg-pythia8','GluGluToHHTo4B_node_cHHH1_TuneCUETP8M1_PSWeights_13TeV-powheg-pythia8','GluGluToHHTo4B_node_cHHH2p45_TuneCUETP8M1_PSWeights_13TeV-powheg-pythia8','GluGluToHHTo4B_node_cHHH5_TuneCUETP8M1_PSWeights_13TeV-powheg-pythia8','VBF_HH_CV_1_C2V_2_C3_1_dipoleRecoilOff-TuneCUETP8M1_PSweights_13TeV-madgraph-pythia8','VBF_HH_CV_1_C2V_1_C3_1_dipoleRecoilOff-TuneCUETP8M1_PSweights_13TeV-madgraph-pythia8','VBF_HH_CV_1_C2V_0_C3_1_dipoleRecoilOff-TuneCUETP8M1_PSweights_13TeV-madgraph-pythia8'] 

#'GGHH4B_rew_kl_p_1'
 
#GGFKiller XGBoost Classifier Configuration
GGFKillerSignal=['VBF_HH_CV_1_C2V_2_C3_1_dipoleRecoilOff-TuneCUETP8M1_PSweights_13TeV-madgraph-pythia8']
GGFKillerBackground=['GluGluToHHTo4B_node_cHHH1_full_TuneCUETP8M1_PSWeights_13TeV-powheg-pythia8']
GGFKillerVariables=['abs_JJ_eta','JJ_m','H1_pt','H2_pt','JJ_j1_pt','JJ_j2_pt','abs_costh_JJ_j1_vbfcm','abs_costh_JJ_j2_vbfcm','h1h2_deltaR','h1j1_deltaR','h2j2_deltaR','h1j2_deltaR','h2j1_deltaR','H1H2_centrality']
GGFKillertag='2016ggfkiller'

#GGFMVA XGBoost Classifier Configuration
GGFMVASignals=['GluGluToHHTo4B_node_cHHH1_full_TuneCUETP8M1_PSWeights_13TeV-powheg-pythia8','GluGluToHHTo4B_node_cHHH1_full_TuneCUETP8M1_PSWeights_13TeV-powheg-pythia8']
GGFMVABackground=['BKG_MODEL']
GGFMVAVariables=['H1_pt','H2_pt','H1_m','H2_m','HH_m','h1h2_deltaEta','H1_bb_deltaR','H2_bb_deltaR','abs_costh_H1_ggfcm','abs_costh_H1_b1_h1cm','sum_4b_pt','HH_pt','sum_3b_bres','min_4b_deltaR','max_4b_deltaEta','nBtagTight'] 
GGFMVAtag='2016ggfmva'
GGFMVAseed=[2023,2028]

##################################################Self-bias Study
sigsamplesforselfbias = ['ttHTobb_M125_13TeV_powheg_pythia8']

######,'GluGluToHHTo4B_node_cHHH1_TuneCUETP8M1_PSWeights_13TeV-powheg-pythia8','GluGluToHHTo4B_node_cHHH5_TuneCUETP8M1_PSWeights_13TeV-powheg-pythia8','VBF_HH_CV_1_C2V_2_C3_1_dipoleRecoilOff-TuneCUETP8M1_PSweights_13TeV-madgraph-pythia8','VBF_HH_CV_1_C2V_1_C3_1_dipoleRecoilOff-TuneCUETP8M1_PSweights_13TeV-madgraph-pythia8','TT_TuneCUETP8M2T4_13TeV-powheg-pythia8']

siginjs = [1.0]

##################################################################